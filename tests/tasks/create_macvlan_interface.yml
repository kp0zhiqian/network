# SPDX-License-Identifier: BSD-3-Clause
---
- include_role:
    name: linux-system-roles.network
  vars:
    network_connections:
      - name: eth0-profile
        type: ethernet
        interface_name: eth0
        ip:
          address:
            - 192.168.0.1/24
      - name: "{{ interface }}"
        type: macvlan
        parent: eth0-profile
        state: up
        macvlan:
          mode: "{{ macvlan_mode}}"
          promiscuous: yes
          tap: "{{ macvlan_tap }}"
        ip:
          address:
            - 192.168.1.1/24
- debug:
    var: __network_connections_result
